module tests.nested_generics @ 1.0.0

// Simple generic
pub gen Container<T> {
    has item: T
}

// Nested generic
pub gen Nested<T> {
    has items: Vec<T>
    has mapping: Map<string, T>
    has optional: Option<T>
    has result: Result<T, string>
}

// Deeply nested
pub gen DeepNest<T> {
    has deep: Map<string, Vec<Option<T>>>
    has matrix: Vec<Vec<T>>
    has complex: Result<Map<string, Vec<T>>, string>
}

// Multiple type params
pub gen Multi<K, V> {
    has key: K
    has value: V
    has pairs: Vec<Tuple<K, V>>
}

// Bounded generics
pub gen Bounded<T: Comparable> {
    has items: Vec<T>

    fun max() -> Option<T> {
        if this.items.is_empty() {
            return None
        }
        return Some(this.items.reduce(|a, b| if a > b { a } else { b }))
    }
}

// Generic with default
pub gen WithDefault<T = i64> {
    has value: T
}

docs {
    Tests for nested and complex generic type parameters.
}
