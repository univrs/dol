{
  "version": "1.0.0",
  "project": "metadol",
  "description": "Metal DOL DSL Toolchain - SPARC Configuration",
  "modes": {
    "dev": {
      "name": "Development",
      "description": "Full development workflow with testing and validation",
      "topology": "hierarchical",
      "maxAgents": 8,
      "strategy": "specialized",
      "phases": [
        {
          "name": "analyze",
          "description": "Analyze requirements and existing code",
          "agents": ["architect", "analyzer"]
        },
        {
          "name": "design",
          "description": "Design implementation approach",
          "agents": ["architect", "designer"]
        },
        {
          "name": "implement",
          "description": "Write code implementation",
          "agents": ["coder"]
        },
        {
          "name": "test",
          "description": "Write and run tests",
          "agents": ["tester", "tdd"]
        },
        {
          "name": "review",
          "description": "Code review and quality checks",
          "agents": ["reviewer"]
        },
        {
          "name": "document",
          "description": "Update documentation",
          "agents": ["documenter"]
        }
      ]
    },
    "test": {
      "name": "Testing",
      "description": "Test-focused workflow",
      "topology": "mesh",
      "maxAgents": 4,
      "strategy": "tdd",
      "phases": [
        {
          "name": "analyze",
          "description": "Analyze test requirements",
          "agents": ["analyzer"]
        },
        {
          "name": "test",
          "description": "Write and run tests",
          "agents": ["tester", "tdd"]
        },
        {
          "name": "review",
          "description": "Review test coverage",
          "agents": ["reviewer"]
        }
      ]
    },
    "docs": {
      "name": "Documentation",
      "description": "Documentation workflow",
      "topology": "star",
      "maxAgents": 3,
      "strategy": "documentation",
      "phases": [
        {
          "name": "analyze",
          "description": "Analyze documentation needs",
          "agents": ["analyzer"]
        },
        {
          "name": "document",
          "description": "Write documentation",
          "agents": ["documenter"]
        },
        {
          "name": "review",
          "description": "Review documentation",
          "agents": ["reviewer"]
        }
      ]
    }
  },
  "agents": {
    "lexer-agent": {
      "type": "coder",
      "name": "Lexer Specialist",
      "capabilities": ["rust", "logos", "tokenization"],
      "focus": "src/lexer.rs"
    },
    "parser-agent": {
      "type": "coder",
      "name": "Parser Specialist",
      "capabilities": ["rust", "recursive-descent", "ast"],
      "focus": "src/parser.rs",
      "dependencies": ["lexer-agent"]
    },
    "cli-agent": {
      "type": "coder",
      "name": "CLI Specialist",
      "capabilities": ["rust", "clap", "cli"],
      "focus": "src/bin/",
      "dependencies": ["parser-agent"]
    },
    "docs-agent": {
      "type": "documenter",
      "name": "Documentation Specialist",
      "capabilities": ["markdown", "rustdoc", "ebnf"],
      "focus": "docs/",
      "dependencies": ["lexer-agent", "parser-agent"]
    },
    "ci-agent": {
      "type": "architect",
      "name": "CI/CD Specialist",
      "capabilities": ["github-actions", "cargo", "ci"],
      "focus": ".github/workflows/",
      "dependencies": ["cli-agent"]
    }
  },
  "tasks": {
    "phase1": {
      "name": "Phase 1 - Foundation",
      "description": "Tests, docs, Cargo.toml setup",
      "subtasks": [
        "Setup Cargo.toml with proper metadata and dependencies",
        "Implement lexer with logos crate",
        "Write 20+ lexer unit tests",
        "Implement recursive descent parser",
        "Write 20+ parser unit tests",
        "Define AST types with Span tracking",
        "Implement error types with thiserror",
        "Add rustdoc comments to all public items",
        "Create integration tests"
      ]
    },
    "phase2": {
      "name": "Phase 2 - Tooling",
      "description": "CLI implementations",
      "subtasks": [
        "Implement dol-parse CLI",
        "Implement dol-test CLI",
        "Implement dol-check CLI",
        "Add JSON output support"
      ]
    },
    "phase3": {
      "name": "Phase 3 - Documentation",
      "description": "Tutorials and examples",
      "subtasks": [
        "Write formal EBNF grammar",
        "Create language specification",
        "Write tutorials",
        "Create example .dol files"
      ]
    },
    "phase4": {
      "name": "Phase 4 - Community",
      "description": "Release and contributing",
      "subtasks": [
        "Setup GitHub Actions CI",
        "Create CONTRIBUTING.md",
        "Tag first release v0.0.1"
      ]
    }
  },
  "validation": {
    "commands": {
      "build": "cargo build",
      "test": "cargo test",
      "lint": "cargo clippy -- -D warnings",
      "format": "cargo fmt --check",
      "docs": "cargo doc"
    },
    "successCriteria": [
      "All tests pass",
      "No clippy warnings",
      "Formatting clean",
      "Docs build successfully",
      "All example .dol files parse"
    ]
  }
}
